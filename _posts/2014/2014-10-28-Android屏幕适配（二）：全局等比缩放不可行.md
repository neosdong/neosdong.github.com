Android设备碎片化问题一直被开发者广为诟病，而且，因为目前手机屏幕越来越来，分辨率越来越高，大有愈演愈烈的趋势。除了等待Google给出一个更加有效的解决方案以外，我们只能尽量适应当前的环境，尽量让自己的产品能够在更多的产品上正常运行。

## Brief

1. 在Android设计上，全局等比缩放是不可能的。局部等比缩放，其他区域填充可拉伸控件是可行的。
2. 机型的DPI不是开发者算出来的，而是厂家决定的。

### 实践总结

以下是Google提供的几种设备屏幕类别：

![](http://s2.5km.co/201410/2416/47969_z.jpg)

理想使用条件

* 设计图选定一种DPI设计，综合考虑平衡安装包大小和最大像素密度的适配
* 界面视图比例一致：
	* 因此，我们面对的是常规比例的设备，dpi高了，总像素也应该相应比例增加。显示的内容比例也就保持一致。
	* 上图的铅笔图标虽然在分辨率上大小不同，但是分别使用在对应DPI的标准设备上显示尺寸是一致的。

### DPI与代表机型

| 类别 | dpi | 缩放比率 | 代表机型 |
| ------------ | ------------- | ------------ |---|
|LDPI|120|75%|已被市场淘汰|
|MDPI|160|100%|基本被市场淘汰|
|TVDPI|213|133%|Google Nexus 7|
|HDPI|240|150%|Google Nexus S,Samsung Galaxy S2|
|XHDPI|320|200%|Samsung GS3,Note2, Nexus4|
|XXHDPI|480|300%|Samsung GS4,小米3|

上表的**dpi是理想的DPI标准，实际机型的DPI有所不同**。但是，基于屏幕大小和真实DPI的综合考虑，将其归到一类。

Android项目默认提供的机器人ICON为例：

在drwable-hdpi的文件夹中，ic_launcher.png的size为72*72，而drawable-xhdpi文件夹中的ic_launcher.png的size为96*96。

理论上来说，在Sumsong Note2(5.5寸，1280*700，XHDPI）上，会加载drawable-xhdpi中的ic_launcher.png,96/320=0.3，使用者会看到一个0.3*0.3英寸的机器人ICON，而在Sumsong的Glaxy S2上（4.3寸，480*800，HDPI）上，会加载drawable-hdpi中到ic_launcher.png,72/240=0.3,使用者仍旧会看到一个0.3*0.3英寸的机器人ICON。所以，从结果上来说，使用者在不同的设备上得到了相同到UI效果，而且，因为在Note2上使用了96*96的ICON， 可以获得更加精细的画面，这似乎是个很理想到结果：即维持了体验的一致性，又最大化的利用了屏幕的显示效果。

但是，理论和实际总是会有些微妙的差别。设备制造厂商为了迎合消费者的喜好，会生产各种屏幕尺寸的设备，而Android的归一化DPI只有6种（其中2种还是被市场淘汰的），最终呈现给开发者的结果就是，硬件设备的物理dpi（或者说ppi，pixel per inch）总是或大或小，和归一化dpi有一定差距，**厂商会根据自己的需要设定设备的归一化DPI，而dalvik进而根据这个归一化DPI来加载资源，绘制界面。**

Note2的物理分辨率其实是267ppi（其实，更接近HDPI，而非XHDPI），而非dalvik认为的320，96/267=0.36，所以，使用者实际看到的是一个0.36*0.36的ICON，而S2的物理分辨率是219，72/219=0.33，所以使用者实际看到的ICON为0.33*0.33寸。所以，界面的实际效果会和开发者的预想有一定偏差。

一个很直观的感受及是，同属XHDPI，Note2显示的图像会比GS3的要大。

保持比例一致的设计愿望是落空了。不过，大屏幕、高分辨率不仅仅是为了看高清无码图而准备的，更是为了显示更多内容而服务的。所以，高分辨率大屏幕
* 可以显示更长的列表
* 横向菜单可以显示更多的菜单项


